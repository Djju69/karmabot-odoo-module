<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è WebApp -->
    <template id="webapp_landing" name="KarmaBot WebApp Landing">
        <t t-call="web.layout">
            <t t-set="title">KarmaBot WebApp</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üéØ KarmaBot</h1>
                    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ WebApp</p>
                </div>
                
                <div class="karmabot-menu">
                    <a href="/karmabot/webapp/register" class="menu-card">
                        <div class="menu-icon">üìù</div>
                        <div class="menu-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                        <div class="menu-desc">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</div>
                    </a>
                    
                    <a href="/karmabot/webapp/login" class="menu-card">
                        <div class="menu-icon">üîë</div>
                        <div class="menu-title">–í—Ö–æ–¥</div>
                        <div class="menu-desc">–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</div>
                    </a>
                </div>
            </div>
        </t>
    </template>

    <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <template id="registration_form" name="KarmaBot Registration Form">
        <t t-call="web.layout">
            <t t-set="title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
                    <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –≤ KarmaBot</p>
                </div>
                
                <div class="registration-form">
                    <form id="registrationForm">
                        <div class="form-group">
                            <label for="full_name">–ü–æ–ª–Ω–æ–µ –∏–º—è *</label>
                            <input type="text" id="full_name" name="full_name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="phone" name="phone">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email">
                        </div>
                        
                        <div class="form-group">
                            <label for="city">–ì–æ—Ä–æ–¥</label>
                            <input type="text" id="city" name="city">
                        </div>
                        
                        <button type="submit" class="btn-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                    </form>
                </div>
            </div>
        </t>
    </template>

    <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <template id="user_cabinet" name="KarmaBot User Cabinet">
        <t t-call="web.layout">
            <t t-set="title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
                    <p t-if="user">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <t t-esc="user.name"/>!</p>
                </div>
                
                <div class="user-stats">
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value" t-esc="user.total_points"/>
                        <div class="stat-label">–í—Å–µ–≥–æ –±–∞–ª–ª–æ–≤</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-value" t-esc="user.available_points"/>
                        <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üì±</div>
                        <div class="stat-value" t-esc="user.total_scans"/>
                        <div class="stat-label">–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</div>
                    </div>
                </div>
                
                <div class="user-menu">
                    <a href="/karmabot/webapp/cards" class="menu-card">
                        <div class="menu-icon">üí≥</div>
                        <div class="menu-title">–ú–æ–∏ –∫–∞—Ä—Ç—ã</div>
                        <div class="menu-desc">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏</div>
                    </a>
                    
                    <a href="/karmabot/webapp/history" class="menu-card">
                        <div class="menu-icon">üìä</div>
                        <div class="menu-title">–ò—Å—Ç–æ—Ä–∏—è</div>
                        <div class="menu-desc">–û–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</div>
                    </a>
                    
                    <a href="/karmabot/webapp/bonuses" class="menu-card">
                        <div class="menu-icon">üéÅ</div>
                        <div class="menu-title">–ë–æ–Ω—É—Å—ã</div>
                        <div class="menu-desc">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫–∏–¥–∫–∏</div>
                    </a>
                    
                    <a href="/karmabot/webapp/settings" class="menu-card">
                        <div class="menu-icon">‚öôÔ∏è</div>
                        <div class="menu-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                        <div class="menu-desc">–ü—Ä–æ—Ñ–∏–ª—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                    </a>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <template id="user_cards" name="KarmaBot User Cards">
        <t t-call="web.layout">
            <t t-set="title">–ú–æ–∏ –∫–∞—Ä—Ç—ã - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üí≥ –ú–æ–∏ –∫–∞—Ä—Ç—ã</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="cards-list">
                    <t t-foreach="cards" t-as="card">
                        <div class="card-item">
                            <div class="card-info">
                                <h3 t-esc="card.name"/>
                                <p t-esc="card.card_number"/>
                                <span class="card-status" t-esc="card.status"/>
                            </div>
                        </div>
                    </t>
                    
                    <t t-if="not cards">
                        <div class="empty-state">
                            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∫–∞—Ä—Ç</p>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ -->
    <template id="user_history" name="KarmaBot User History">
        <t t-call="web.layout">
            <t t-set="title">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üìä –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="transactions-list">
                    <t t-foreach="transactions" t-as="transaction">
                        <div class="transaction-item">
                            <div class="transaction-info">
                                <h4 t-esc="transaction.reason"/>
                                <p t-esc="transaction.description"/>
                                <span class="transaction-date" t-esc="transaction.transaction_date"/>
                            </div>
                            <div class="transaction-points" t-esc="transaction.points"/>
                        </div>
                    </t>
                    
                    <t t-if="not transactions">
                        <div class="empty-state">
                            <p>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø—É—Å—Ç–∞</p>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±–æ–Ω—É—Å–æ–≤ -->
    <template id="user_bonuses" name="KarmaBot User Bonuses">
        <t t-call="web.layout">
            <t t-set="title">–ë–æ–Ω—É—Å—ã –∏ —Å–∫–∏–¥–∫–∏ - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üéÅ –ë–æ–Ω—É—Å—ã –∏ —Å–∫–∏–¥–∫–∏</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="bonuses-list">
                    <t t-foreach="bonuses" t-as="bonus">
                        <div class="bonus-item">
                            <div class="bonus-info">
                                <h3 t-esc="bonus.name"/>
                                <p>–î–æ—Å—Ç—É–ø–Ω—ã–µ –±–æ–Ω—É—Å—ã –∏ —Å–∫–∏–¥–∫–∏</p>
                            </div>
                        </div>
                    </t>
                    
                    <t t-if="not bonuses">
                        <div class="empty-state">
                            <p>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤</p>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <template id="user_settings" name="KarmaBot User Settings">
        <t t-call="web.layout">
            <t t-set="title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="settings-form">
                    <div class="form-group">
                        <label>–ò–º—è</label>
                        <input type="text" t-att-value="user.display_name" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" t-att-value="user.phone">
                    </div>
                    
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" t-att-value="user.email">
                    </div>
                    
                    <div class="form-group">
                        <label>–ì–æ—Ä–æ–¥</label>
                        <input type="text" t-att-value="user.city">
                    </div>
                    
                    <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
    <template id="user_support" name="KarmaBot User Support">
        <t t-call="web.layout">
            <t t-set="title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="support-content">
                    <h2>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</h2>
                    <p>–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏:</p>
                    
                    <div class="contact-info">
                        <p>üìß Email: support@karmabot.com</p>
                        <p>üì± Telegram: @karmabot_support</p>
                        <p>üïí –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 9:00 - 18:00 (–ú–°–ö)</p>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
    <template id="user_statistics" name="KarmaBot User Statistics">
        <t t-call="web.layout">
            <t t-set="title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value" t-esc="stats.total_points"/>
                        <div class="stat-label">–í—Å–µ–≥–æ –±–∞–ª–ª–æ–≤</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-value" t-esc="stats.available_points"/>
                        <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üì±</div>
                        <div class="stat-value" t-esc="stats.total_scans"/>
                        <div class="stat-label">–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-value" t-esc="stats.total_referrals"/>
                        <div class="stat-label">–†–µ—Ñ–µ—Ä–∞–ª–æ–≤</div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±–∞–ª–ª–æ–≤ -->
    <template id="user_points" name="KarmaBot User Points">
        <t t-call="web.layout">
            <t t-set="title">–ú–æ–∏ –±–∞–ª–ª—ã - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>‚≠ê –ú–æ–∏ –±–∞–ª–ª—ã</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="points-info">
                    <div class="points-balance">
                        <h2 t-esc="user.total_points"/>
                        <p>–í—Å–µ–≥–æ –±–∞–ª–ª–æ–≤</p>
                    </div>
                    
                    <div class="points-available">
                        <h2 t-esc="user.available_points"/>
                        <p>–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ç—Ä–∞—Ç</p>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ -->
    <template id="user_referrals" name="KarmaBot User Referrals">
        <t t-call="web.layout">
            <t t-set="title">–†–µ—Ñ–µ—Ä–∞–ª—ã - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</h1>
                    <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                
                <div class="referrals-info">
                    <div class="referrals-count">
                        <h2 t-esc="user.total_referrals"/>
                        <p>–í—Å–µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤</p>
                    </div>
                    
                    <div class="referral-link">
                        <h3>–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:</h3>
                        <input type="text" readonly t-att-value="'https://t.me/karmabot?start=' + user.telegram_id"/>
                        <button class="btn-copy">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ -->
    <template id="webapp_login" name="KarmaBot WebApp Login">
        <t t-call="web.layout">
            <t t-set="title">–í—Ö–æ–¥ - KarmaBot</t>
            
            <div class="karmabot-container">
                <div class="karmabot-header">
                    <h1>üîë –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h1>
                    <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç KarmaBot</p>
                </div>
                
                <div class="login-form">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="telegram_id">Telegram ID</label>
                            <input type="text" id="telegram_id" name="telegram_id" required>
                        </div>
                        
                        <button type="submit" class="btn-primary">–í–æ–π—Ç–∏</button>
                    </form>
                    
                    <div class="login-help">
                        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="/karmabot/webapp/register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a></p>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>